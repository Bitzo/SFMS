link(rel='stylesheet' href="css/backend/role.css")
block content
  div.container-fluid(ng-controller="sfmsIndexController")
    span 
      h2 财务编辑
    jason-form(method="post",source='/sfms/api/finance' name='financeEdit' conf='paginationConf' tocc="ProjectId,UserID")
      form(name='financeEdit' ng-controller="sfmsIndexController" )
        table.table.table-bordered.table-hover.definedwidth.m10
          tr
            td(width="15%",class="tableleft") 财务名称
            td
                input(type="textview", ng-model='paginationConf.formdata.FIName' name='FIName',ng-maxlength='45',required)
                &nbsp&nbsp
                small.error(ng-if="financeAdd.FIName.$error.maxlength && financeAdd.FIName.$touched") 财务名称最多45位
            
          tr
            td(width="15%",class="tableleft") 用户名
            td
              jason-select.input( ng-model='paginationConf.formdata.UserID' source='/backuser' stext='Account' svalue='AccountID' ng-change= "userKpiChanged()")   

          tr
            td(width="15%",class="tableleft") 所属项目
            td
              select(ng-model='paginationConf.formdata.ProjectId',name='ProjectId')
                option
                option(ng-repeat="item in ProjectNames" value='{{item.ProjectID}}') {{item.ProjectName}}               
            
          tr
            td(width="15%",class="tableleft") 财务类型
            td
                jason-select.input( ng-model='paginationConf.formdata.FIType' source='/datadict/plain' selectparams='{"Category":"dc_fitype"}' stext='DictionaryValue' svalue='DictionaryID')

            
          tr
            td(width="15%",class="tableleft") 财务收支
            td
                jason-select.input( ng-model='paginationConf.formdata.InOutType' source='/datadict/plain' selectparams='{"Category":"dc_fiinouttype"}' stext='DictionaryValue' svalue='DictionaryID')
            
            
          tr
            td(width="15%",class="tableleft") 财务金额 
            td
                input(type="number",name="FIPrice",ng-model="paginationConf.formdata.FIPrice",ng-maxlength='45',required)

                &nbsp&nbsp
                small.error(ng-if="financeAdd.FIPrice.$error.maxlength && financeAdd.FIPrice.$touched") 金额最多45位

        
        
          tr
            td(width="15%",class="tableleft") 财务描述 
            td
                textarea(type="textview",rows="5",cols="30",name="Remark",ng-model='paginationConf.formdata.Remark',ng-maxlength='45',required)
                &nbsp&nbsp
                small.error(ng-if="financeAdd.Remark.$error.maxlength && financeAdd.Remark.$touched") 描述最多45位

          tr
            td(class="tableleft")
            td
                button.btn.btn-sm.btn-primary(type="submit",ng-click="newedit(paginationConf.formdata,'/sfms/api/finance')") 确认修改
                &nbsp&nbsp&nbsp&nbsp
                a.btn.btn-sm.btn-success(href='#sfms/finance',ng-click='search()') 返回列表




        